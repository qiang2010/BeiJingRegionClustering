package qiang.util;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;


/**
 * 
 * 发送post请求，返回json
 * @author jq
 *
 */

public class SendPost {

	//http://restapi.amap.com/v3/distance?
	//origins=116.481028,39.989643|116.39,39.1|116.59,39.2|114.465302,40.004717
	//&destination=114.465302,40.004717&output=json&key=<用户的key>
	
	public static void main(String[] args) {
		String pp = "http://restapi.amap.com/v3/distance?origins=116.603916,39.927698|116.615916,39.927698|116.627916,39.927698|116.639916,39.927698|116.171916,39.918698|116.183916,39.918698|116.195916,39.918698|116.207916,39.918698|116.219916,39.918698|116.231916,39.918698|116.243916,39.918698|116.255916,39.918698|116.267916,39.918698|116.279916,39.918698|116.291916,39.918698|116.303916,39.918698|116.315916,39.918698|116.327916,39.918698|116.339916,39.918698|116.351916,39.918698|116.363916,39.918698|116.375916,39.918698|116.387916,39.918698|116.399916,39.918698|116.411916,39.918698|116.423916,39.918698|116.435916,39.918698|116.447916,39.918698|116.459916,39.918698|116.471916,39.918698|116.483916,39.918698|116.495916,39.918698|116.507916,39.918698|116.519916,39.918698|116.531916,39.918698|116.543916,39.918698|116.555916,39.918698|116.567916,39.918698|116.579916,39.918698|116.591916,39.918698|116.603916,39.918698|116.615916,39.918698|116.627916,39.918698|116.639916,39.918698|116.171916,39.909698|116.183916,39.909698|116.195916,39.909698|116.207916,39.909698|116.219916,39.909698|116.231916,39.909698|116.243916,39.909698|116.255916,39.909698|116.267916,39.909698|116.279916,39.909698|116.291916,39.909698|116.303916,39.909698|116.315916,39.909698|116.327916,39.909698|116.339916,39.909698|116.351916,39.909698|116.363916,39.909698|116.375916,39.909698|116.387916,39.909698|116.399916,39.909698|116.411916,39.909698|116.423916,39.909698|116.435916,39.909698|116.447916,39.909698|116.459916,39.909698|116.471916,39.909698|116.483916,39.909698|116.495916,39.909698|116.507916,39.909698|116.519916,39.909698|116.531916,39.909698|116.543916,39.909698|116.555916,39.909698|116.567916,39.909698|116.579916,39.909698|116.591916,39.909698|116.603916,39.909698|116.615916,39.909698|116.627916,39.909698|116.639916,39.909698|116.171916,39.900698|116.183916,39.900698|116.195916,39.900698|116.207916,39.900698|116.219916,39.900698|116.231916,39.900698|116.243916,39.900698|116.255916,39.900698|116.267916,39.900698|116.279916,39.900698|116.291916,39.900698&destination=116.171916,40.026698&output=json&key=e9878064ee9b470bd92b5b53f1584943";
		sendPost(pp);

	}
	
	public static String sendPost(String url){
		StringBuilder sb = new StringBuilder();
		String urlNameString = url;
		try {
			URL realUrl = new URL(urlNameString);
			HttpURLConnection httpURLConnection = (HttpURLConnection) realUrl.openConnection();
			
			BufferedReader reader = new BufferedReader(new InputStreamReader(httpURLConnection.getInputStream()));
			String line;
			
			while((line = reader.readLine())!=null){
				sb.append(line);
				System.out.println("line:"+line);
			}
			reader.close();
			httpURLConnection.disconnect();
		} catch (Exception e) {
			e.printStackTrace();
		}
		return sb.toString();
	}
	
	
}
